<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.27">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Projects – Oluwole Oni | Data Analyst Portfolio</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-ed96de9b727972fe78a7b5d16c58bf87.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-e31584831b205ffbb2d98406f31c2a5b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>html{ scroll-behavior: smooth; }</style>


</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Oluwole Oni | Data Analyst Portfolio</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./projects.html" aria-current="page"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./contact.html"> 
<span class="menu-text">Contact</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/Oluwole-Oni"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/oluwole-oni-193b49163"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#projects" id="toc-projects" class="nav-link active" data-scroll-target="#projects">Projects</a>
  <ul class="collapse">
  <li><a href="#gameco-video-game-sales-analysis" id="toc-gameco-video-game-sales-analysis" class="nav-link" data-scroll-target="#gameco-video-game-sales-analysis">GameCo Video Game Sales Analysis</a></li>
  <li><a href="#preparing-for-influenza-season" id="toc-preparing-for-influenza-season" class="nav-link" data-scroll-target="#preparing-for-influenza-season">Preparing for Influenza Season</a></li>
  <li><a href="#rockbuster-stealth-data-analysis" id="toc-rockbuster-stealth-data-analysis" class="nav-link" data-scroll-target="#rockbuster-stealth-data-analysis">Rockbuster Stealth Data Analysis</a></li>
  <li><a href="#instacart-grocery-basket-analysis" id="toc-instacart-grocery-basket-analysis" class="nav-link" data-scroll-target="#instacart-grocery-basket-analysis">Instacart Grocery Basket Analysis</a></li>
  <li><a href="#gun-violence-in-the-u.s.-20132018" id="toc-gun-violence-in-the-u.s.-20132018" class="nav-link" data-scroll-target="#gun-violence-in-the-u.s.-20132018">Gun Violence in the U.S. (2013–2018)</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content column-page-left" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Projects</h1>
</div>



<div class="quarto-title-meta column-page-left">

    
  
    
  </div>
  


</header>


<section id="projects" class="level1">
<h1>Projects</h1>
<p>Below are selected projects showcasing <strong>business insight, storytelling, dashboards, and analytics workflows</strong>.</p>
<hr>
<section id="gameco-video-game-sales-analysis" class="level2">
<h2 class="anchored" data-anchor-id="gameco-video-game-sales-analysis">GameCo Video Game Sales Analysis</h2>
<p><img src="project pic/GameCo pic.png" class="img-fluid"></p>
<p><strong>Overview:</strong><br>
Analyzed global video game sales data to uncover trends in genre popularity, platform performance, and regional demand.</p>
<p><strong>Problem/Goal:</strong><br>
GameCo aims to leverage data-driven insights to guide the development of new games and forecast their potential performance in the market.</p>
<p><strong>Data:</strong><br>
Historical sales of video games dataset sourced from VGChartz. It tracks the total number of units of games sold (not financial figures) from 1980 to 2016. The numbers represent units sold in millions.</p>
<p><strong>Methodology:</strong><br>
<em>Data Cleaning:</em> The GameCo dataset was thoroughly cleaned to ensure accuracy and consistency before analysis. Missing values were handled through mean imputation for regional sales columns, while the NA Units column and an empty final row were removed. Duplicates and blank entries were corrected, special characters in game names were standardized, and all sales figures were rounded to two decimal places.</p>
<p><em>Data Processing:</em> Descriptive statistical techniques were applied to summarize sales data across genres, publishers, and regions. Data was grouped and aggregated using Excel and Pivot tables to identify sales trends, regional performance variations, and changes in game popularity over time. Visualizations such as bar charts and line graphs were created to highlight key insights.</p>
<p><strong>Key Focus:</strong> - Sales trends across regions and time<br>
- Top-performing genres and platforms<br>
- Data-driven recommendations for product strategy</p>
<p><strong>Tools:</strong> Excel, Tableau, PowerPoint, SQL</p>
<hr>
</section>
<section id="preparing-for-influenza-season" class="level2">
<h2 class="anchored" data-anchor-id="preparing-for-influenza-season">Preparing for Influenza Season</h2>
<p><img src="project pic/Preparing for Influnza season pic.png" class="img-fluid"></p>
<p><strong>Overview:</strong><br>
Conducted exploratory and predictive analysis on influenza mortality data to support healthcare staffing and resource allocation decisions.</p>
<p><strong>Goal:</strong><br>
To use influenza trends to provide insights to help a medical staffing agency that provides temporary workers to clinics and hospitals on an as-needed basis.</p>
<p><strong>Data:</strong><br>
Influenza deaths by geography sourced from U.S. Centers for Disease Control and Prevention, and population data by geography, time, age, and gender sourced from US Census Bureau. The datasets span from 2009 to 2017 and provide detailed counts of influenza-related deaths by state and age group.</p>
<p><strong>Methodology:</strong><br>
<em>Data Cleaning:</em> Performed comprehensive data cleaning on both datasets, including profiling and integrity checks to ensure consistency and accuracy. This included renaming and formatting variables, validating data types, and addressing missing values.</p>
<p><em>Data Processing:</em> Integrated flu mortality data with state population data to build a unified, analysis-ready dataset. Conducted statistical hypothesis testing to assess the relationship between the vulnerable population (age 65+) and flu-related deaths across states. Developed a range of Tableau visualizations including temporal trends, forecasts, statistical plots, and spatial maps to uncover key patterns and highlight geographic disparities.</p>
<p><strong>Key Focus:</strong> - State-level flu mortality trends<br>
- Risk analysis for populations aged 65+<br>
- Interactive dashboards for planning</p>
<p><strong>Tools:</strong> Excel, Tableau, Python<br>
<strong>Links:</strong><br>
- GitHub: <a href="https://github.com/Oluwole-Oni/Preparing-for-flu-Season">Repository</a></p>
<hr>
</section>
<section id="rockbuster-stealth-data-analysis" class="level2">
<h2 class="anchored" data-anchor-id="rockbuster-stealth-data-analysis">Rockbuster Stealth Data Analysis</h2>
<p><img src="project pic/Rockbuster pic.png" class="img-fluid"></p>
<p><strong>Overview:</strong><br>
Performed advanced SQL analysis on customer, rental, and payment data to support Rockbuster’s transition into online video rentals.</p>
<p><strong>Goal:</strong><br>
Rockbuster Stealth LLC aims to transition into the online video rental market to remain competitive against streaming giants like Netflix and Amazon Prime. The management team seeks data-driven insights from existing customer and rental data to guide strategic decisions for their business plan.</p>
<p><strong>Data:</strong><br>
Dataset containing information about Film Inventory, Customers Information, and Payment Transactions sourced from Rockbuster’s internal records.</p>
<p><strong>Methodology:</strong><br>
<em>Data Cleaning:</em> All available data was loaded into a relational database management system (RDBMS) to ensure proper storage, structure, and integration across tables. SQL was used extensively to explore and clean the data, filtering out irrelevant or duplicate records, and handling missing or incorrect values.</p>
<p><em>Data Processing:</em> DbVisualizer was used to create an entity relationship diagram (ERD) to clearly understand table connections and database structure. Data from multiple tables was combined using SQL joins to build complete views of customer, film, rental, and payment information. Subqueries were employed to extract targeted metrics, and Common Table Expressions (CTEs) were used to simplify multi-step transformations and improve query readability.</p>
<p><strong>Key Focus:</strong> - Database design &amp; ER diagrams<br>
- Customer and revenue analysis<br>
- Regional performance insights</p>
<p><strong>Tools:</strong> PostgreSQL, SQL, Tableau, Power BI, DbVisualizer<br>
<strong>Links:</strong><br>
- GitHub: <a href="https://github.com/Oluwole-Oni/SQL-Rockbuster-Stealth-Data-Analysis.">Repository</a></p>
<hr>
</section>
<section id="instacart-grocery-basket-analysis" class="level2">
<h2 class="anchored" data-anchor-id="instacart-grocery-basket-analysis">Instacart Grocery Basket Analysis</h2>
<p><img src="project pic/Instacart pic.png" class="img-fluid"></p>
<p><strong>Overview:</strong><br>
Analyzed large-scale grocery transaction data to uncover customer purchasing patterns and segmentation insights.</p>
<p><strong>Goal:</strong><br>
Instacart, an app-based online grocery platform, aims to analyze its sales data more deeply to uncover patterns and provide insights for improved customer segmentation and strategic decision-making.</p>
<p><strong>Data:</strong><br>
Instacart Online Grocery Shopping Dataset (2017) sourced from Kaggle, along with a Customer Dataset provided specifically for analysis in this project.</p>
<p><strong>Methodology:</strong><br>
<em>Data Cleaning:</em> All Instacart datasets were imported into Python and prepared for analysis through careful data cleaning. This included wrangling and sub-setting to focus on relevant data, performing consistency checks to correct duplicates, handle missing values, and standardize formats.</p>
<p><em>Data Processing:</em> Processed all datasets to generate meaningful insights. This included combining datasets for a comprehensive view, deriving new variables such as loyalty_flag and busiest_period_of_day, and grouping and aggregating data to summarize trends across products, customers, and departments.</p>
<p><strong>Key Focus:</strong> - Customer loyalty and ordering behavior<br>
- Product and department performance<br>
- Marketing and sales optimization insights</p>
<p><strong>Tools:</strong> Python (Pandas, NumPy), Jupyter, Excel<br>
<strong>Links:</strong><br>
- GitHub: <a href="https://github.com/Oluwole-Oni/Instacart-Grocery-Basket-Analysis">Repository</a></p>
<hr>
</section>
<section id="gun-violence-in-the-u.s.-20132018" class="level2">
<h2 class="anchored" data-anchor-id="gun-violence-in-the-u.s.-20132018">Gun Violence in the U.S. (2013–2018)</h2>
<p><img src="project pic/Gunviolence pic.png" class="img-fluid"></p>
<p><strong>Overview:</strong><br>
Analyzed over 260,000 incidents to uncover temporal, geographic, and severity patterns using exploratory analysis, clustering, and time-series methods.</p>
<p><strong>Goal:</strong><br>
Gun violence is a critical public health issue in the United States. This analysis investigates gun violence trends from 2013-2018 to uncover actionable insights and support the development of potential solutions for creating a safer, non-violent society.</p>
<p><strong>Data:</strong><br>
Gun violence dataset containing over 260,000 recorded gun violence incidents spanning January 2013 to March 2018. Each entry includes up to 29 variables such as incident date, city and state, geographic coordinates, number of fatalities and injuries, weapon details, and participant demographics.</p>
<p><strong>Methodology:</strong><br>
<em>Data Cleaning:</em> The dataset initially contained 239,677 rows and 29 variables. Data cleaning began with validating and correcting variable data types, followed by a systematic assessment of missing values. Variables with excessive missing data (&gt;70%) or low analytical relevance were removed. Variables that were analytically useful but incomplete were retained, with missing categorical values filled as “Unknown” and numerical values imputed using the median.</p>
<p><em>Data Processing:</em> The dataset was systematically processed and analyzed using multiple analytical approaches. This included the creation of geographic visualizations to examine spatial distribution across states, time-series analysis to uncover temporal trends and structural shifts, and both supervised and unsupervised machine learning techniques to identify patterns and classify incident types.</p>
<p><strong>Key Focus:</strong> - Time-series trends and seasonality<br>
- Geographic distribution and hotspots<br>
- Clustering of incident types and severity patterns</p>
<p><strong>Tools:</strong> Python, Tableau, Jupyter<br>
<strong>Links:</strong><br>
- GitHub: <a href="https://github.com/Oluwole-Oni/Gun-violence-in-the-U.S.A-2013---2018-">Repository</a></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




<script src="site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>